function debounce(e,t,n){let r;return function(){const i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},l=n&&!r;clearTimeout(r),r=setTimeout(o,t),l&&e.apply(i,a)}}function Filterable(e){const t=document.querySelectorAll("[data-filterable-input]"),n=e.querySelectorAll("[data-filterable-item]"),r=e=>e.toLowerCase().replace(/ & /g,"-and-").replace(/<[^>]+>/g,"").replace(/['â€™]/g,"").replace(/[^a-z0-9-]+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/--+/g,"-"),i=t=>{const i=t.target,a=i.getAttribute("data-filterable-key"),o=r(i.value);n.forEach((e=>{const t=e.querySelector(`[data-key="${a}"]`);var n;!o||t&&(n=t,n.getAttribute("data-value")?n.getAttribute("data-value"):r(n.innerText)).indexOf(o)>-1?e.style.display="":e.style.display="none"})),Array.from(n).some((e=>"none"!==e.style.display))?e.classList.remove("no-results"):e.classList.add("no-results")};t.forEach((e=>{e.addEventListener("keyup",debounce(i,100)),e.value&&i({target:e})}))}function initFilterable(){document.querySelectorAll("[data-filterable-list]").forEach((e=>{Filterable(e)}))}initFilterable();const menuButton=document.getElementById("menu-button");function Timer(e){const t=e=>{const t=e-(new Date).getTime();return t<=0?"":(e=>{const t=new Date(0);let n;return t.setSeconds(e/1e3),n=e<6e5?15:e<36e5?14:e<36e6?12:11,t.toISOString().substr(n).replace(/\.\d+Z$/,"")})(t)},n=e=>{e.target.parentNode.remove()},r=()=>{const e=document.querySelectorAll(".timer--on");if(e.length<=0)return clearInterval(window.TICK_INTERVAL),void(window.TICK_INTERVAL=null);e.forEach((e=>{const r=t(Date.parse(e.getAttribute("data-until")));if(""===r){e.classList.remove("timer--on"),e.querySelector(".timer__text").remove();const t=document.createElement("button");t.setAttribute("class","timer__stop"),t.setAttribute("type","button"),t.addEventListener("click",n),t.innerText="Stop",e.appendChild(t);const r=document.createElement("audio");r.setAttribute("loop",!0),e.appendChild(r);const i=document.createElement("source");return i.setAttribute("src","/assets/sounds/magnolia-simms.mp3"),i.setAttribute("type","audio/mpeg"),r.appendChild(i),void r.play()}e.querySelector(".timer__text").innerText=r}))},i=()=>{const n=new Date,i=parseInt(e.getAttribute("data-timer"),10);n.setSeconds(n.getSeconds()+i);const a=document.getElementById("timer-container"),o=document.createElement("div");o.setAttribute("class","timer timer--on"),o.setAttribute("data-until",n),a.appendChild(o);const l=document.createElement("div");l.setAttribute("class","timer__text"),l.innerText=t(n),o.appendChild(l),window.TICK_INTERVAL||(window.TICK_INTERVAL=setInterval(r,500))};e.addEventListener("click",i)}function initTimer(){const e=document.querySelectorAll("[data-timer]");if(e.length<=0)return;e.forEach((e=>{Timer(e)}));const t=document.createElement("div");t.setAttribute("id","timer-container"),document.body.appendChild(t)}menuButton.addEventListener("click",(()=>{document.getElementById("nav").classList.toggle("show")})),initTimer();
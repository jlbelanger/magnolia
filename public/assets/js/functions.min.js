function Confirmable(e){e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-confirmable");window.confirm(t)&&e.target.closest("form").submit()}))}function initConfirmable(){document.querySelectorAll("[data-confirmable]").forEach((e=>{Confirmable(e)}))}function debounce(e,t,n){let r;return function(){const i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},l=n&&!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(i,o)}}function Filterable(e){const t=document.querySelectorAll("[data-filterable-input]"),n=e.querySelectorAll("[data-filterable-item]"),r=document.getElementById("no-results"),i=e=>e.toLowerCase().replace(/ & /g,"-and-").replace(/<[^>]+>/g,"").replace(/['â€™]/g,"").replace(/[^a-z0-9-]+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/--+/g,"-"),o=e=>{const t=e.target,o=t.getAttribute("data-filterable-key"),a=i(t.value);n.forEach((e=>{const t=e.querySelector(`[data-key="${o}"]`);var n;!a||t&&(n=t,n.getAttribute("data-value")?n.getAttribute("data-value"):i(n.innerText)).indexOf(a)>-1?e.style.display="":e.style.display="none"})),(()=>{const e=Array.from(n).some((e=>"none"!==e.style.display));r.style.display=e?"none":""})()};t.forEach((e=>{e.addEventListener("keyup",debounce(o,100)),e.value&&o({target:e})}))}function initFilterable(){document.querySelectorAll("[data-filterable-list]").forEach((e=>{Filterable(e)}))}initConfirmable(),initFilterable();const $menuButton=document.getElementById("menu-button");function Timer(e){const t=e=>{const t=e-(new Date).getTime();return t<=0?"":(e=>{const t=new Date(0);let n;return t.setSeconds(e/1e3),n=e<6e5?15:e<36e5?14:e<36e6?12:11,t.toISOString().substr(n).replace(/\.\d+Z$/,"")})(t)},n=e=>{e.target.parentNode.remove()},r=()=>{const e=document.querySelectorAll(".timer--on");if(e.length<=0)return clearInterval(window.TICK_INTERVAL),void(window.TICK_INTERVAL=null);e.forEach((e=>{const r=t(Date.parse(e.getAttribute("data-until")));if(""===r){e.classList.remove("timer--on"),e.querySelector(".timer__text").remove();const t=document.createElement("button");t.setAttribute("class","timer__stop"),t.setAttribute("type","button"),t.addEventListener("click",n),t.innerText="Stop",e.appendChild(t);const r=document.createElement("audio");r.setAttribute("loop",!0),e.appendChild(r);const i=document.createElement("source");return i.setAttribute("src","/assets/sounds/magnolia-simms.mp3"),i.setAttribute("type","audio/mpeg"),r.appendChild(i),void r.play()}e.querySelector(".timer__text").innerText=r}))},i=()=>{const n=new Date,i=parseInt(e.getAttribute("data-timer"),10);n.setSeconds(n.getSeconds()+i);const o=document.getElementById("timer-container"),a=document.createElement("div");a.setAttribute("class","timer timer--on"),a.setAttribute("data-until",n),o.appendChild(a);const l=document.createElement("div");l.setAttribute("class","timer__text"),l.innerText=t(n),a.appendChild(l),window.TICK_INTERVAL||(window.TICK_INTERVAL=setInterval(r,500))};e.addEventListener("click",i)}function initTimer(){const e=document.querySelectorAll("[data-timer]");if(e.length<=0)return;e.forEach((e=>{Timer(e)}));const t=document.createElement("div");t.setAttribute("id","timer-container"),document.body.appendChild(t)}$menuButton&&$menuButton.addEventListener("click",(()=>{document.getElementById("nav").classList.toggle("show")})),initTimer();